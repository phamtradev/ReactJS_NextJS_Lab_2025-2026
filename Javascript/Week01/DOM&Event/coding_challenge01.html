<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Guess My Number</title>
    <style>
      body {
        background-color: #222;
        color: #eee;
        font-family: Arial, sans-serif;
        text-align: center;
      }
      .number {
        width: 15rem;
        font-size: 4rem;
        background: #eee;
        color: #222;
        margin: 20px auto;
      }
      button {
        padding: 10px 20px;
        font-size: 16px;
      }
      .guess {
        width: 100px;
        font-size: 20px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1>Guess My Number!</h1>
    <p class="message">Start guessing...</p>

    <div class="number">?</div>

    <input type="number" class="guess" />
    <button class="check">Check!</button>
    <button class="again">Again!</button>

    <p>Score: <span class="score">20</span></p>
    <p>Highscore: <span class="highscore">0</span></p>

    <script>
      let secretNumber = Math.trunc(Math.random() * 20) + 1;
      let score = 20;
      let highscore = 0;

      document.querySelector(".check").addEventListener("click", function () {
        const guess = Number(document.querySelector(".guess").value);

        if (!guess) {
          document.querySelector(".message").textContent = "No number!";
        } else if (guess === secretNumber) {
          document.querySelector(".message").textContent = "Correct Number!";
          document.querySelector(".number").textContent = secretNumber;
          document.querySelector("body").style.backgroundColor = "#60b347";
          document.querySelector(".number").style.width = "30rem";

          if (score > highscore) {
            highscore = score;
            document.querySelector(".highscore").textContent = highscore;
          }
        } else {
          if (score > 1) {
            document.querySelector(".message").textContent =
              guess > secretNumber ? "Too high!" : "Too low!";
            score--;
            document.querySelector(".score").textContent = score;
          } else {
            document.querySelector(".message").textContent = "You lost!";
            document.querySelector(".score").textContent = 0;
          }
        }
      });

      document.querySelector(".again").addEventListener("click", function () {
        score = 20;
        secretNumber = Math.trunc(Math.random() * 20) + 1;

        document.querySelector(".message").textContent = "Start guessing...";
        document.querySelector(".score").textContent = score;
        document.querySelector(".number").textContent = "?";
        document.querySelector(".guess").value = "";

        document.querySelector("body").style.backgroundColor = "#222";
        document.querySelector(".number").style.width = "15rem";
      });
    </script>
  </body>
</html>
